!function(e){"use strict";function s(){let s,a=e(window).width();a<1025||(e(".es-course-item").on("mouseover",function(){let o=e(this),t=o.width(),r=o.offset(),i=e(document).width(),n=r.left+t,l=r.left+t+10;s=o.closest(".es-site-courses-grid").find("#es-single-course-details-box"),o.removeClass("left-pseudo-element");let d=a<1200?120:95;i-n<=340&&(o.addClass("left-pseudo-element"),s.addClass("left-pseudo-element"),l=r.left-t-d),s.html(""),o.find(".es-course-details").clone().appendTo(s),s.css("left",l),s.addClass("display")}).on("mouseleave",function(a){let o=e(this);a.relatedTarget&&"es-course-details"!==a.relatedTarget.className&&s.removeClass("display").html(""),o.removeClass("left-pseudo-element"),s.removeClass("left-pseudo-element")}),e(".es-single-course-details-box").on("mouseleave",function(){e(".es-single-course-details-box").removeClass("display").html("")}))}window.engispace={initHeaderFunctions:function(){e(".es-user-profile-button button").on("click",function(){e(".es-user-profile-dropdown").toggleClass("active")}),e(".es-site-mobile-menu-btn").on("click",function(){e(".es-header-mobile-navigation-wrapper").slideToggle()})},initCourseSliders:function(){e("#courses-header-slider").owlCarousel({center:!1,items:1,loop:!0,margin:30,responsive:{1000:{items:1},600:{items:1}}}),e(".courses_slider").owlCarousel({center:!1,items:1,loop:!1,dots:!1,nav:!0,margin:20,responsive:{768:{items:5},480:{items:2}}})},initCourseItemHover:function(){s()},initSignIn:function(){e("#es-signin-form").on("submit",function(s){((s,a)=>{s.preventDefault();let o=a.find(".es-form-message");o.html("").removeClass("form-error form-success");const t=a.find("#login_email").val(),r=a.find("#login_password").val();if(!t||!r)return void o.html("Please enter email or password").removeClass("form-success").addClass("form-error");const i=a.serialize();e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:i,success:function(e){e.success?setTimeout(function(){window.location.href=engisapce_obj.siteurl+"/profile"},100):a.find(".es-form-message").html("Email or password did not match").addClass("form-error").removeClass("form-success")}})})(s,e(this))})},initSignUp:function(){e("#es-signup-form").validate({rules:{firstname:"required",lastname:"required",email:{required:!0,email:!0},password:{required:!0,minlength:8},password_confirm:{required:!0,minlength:8,equalTo:"#password"}},messages:{firstname:"Please enter your firstname",lastname:"Please enter your lastname",password:{required:"Please provide a password",minlength:"Your password must be at least 8 characters long"},password_confirm:{required:"Please provide a password",minlength:"Your password must be at least 8 characters long"},email:"Please enter a valid email address"},submitHandler:function(s){const a=e(s).find(".es-form-message"),o=e(s).serialize();a.html("").removeClass("form-error form-success"),e("#es-signup-form button[type=submit]").addClass("display"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:o,success:function(s){e("#es-signup-form button[type=submit]").removeClass("display"),s.success||"form_validation_failed"!==s.data&&"user_error"!==s.data?s.success||"user_exists"!==s.data?(s.success&&"user_created"===s.data&&a.html("Your account has been created").addClass("form-success").removeClass("form-error"),e("#es-signup-form")[0].reset(),setTimeout(function(){window.location.href=engisapce_obj.siteurl+"/profile"},100)):a.html("User already exists").addClass("form-error").removeClass("form-success"):a.html("There's something wrong with form validation").addClass("form-error").removeClass("form-success")}})}})},initForgetPassword:function(){e("#es-forget-password-form").on("submit",function(s){((s,a)=>{s.preventDefault();let o=a.find(".es-form-message");if(o.html("").removeClass("form-error form-success"),!a.find("#forget_email").val())return void o.html("Please enter email").removeClass("form-success").addClass("form-error");const t=a.serialize();e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,success:function(s){s.success?(a.find(".es-form-message").html("Please check your email for reset link").addClass("form-success").removeClass("form-error"),e("#ees-forget-password-form")[0].reset()):a.find(".es-form-message").html("There's something wrong with your request").addClass("form-error").removeClass("form-success")}})})(s,e(this))})},initAuthModal:function(){e(document).on("click","#es-open-signin-modal",function(){e("#site-auth-modal").addClass("display-modal").attr("modal-type","signin-modal")}),e("#es-open-signup-modal, .es-home-cta-signup").on("click",function(){e("#site-auth-modal").addClass("display-modal").attr("modal-type","signup-modal")}),e(document).on("click",".close-modal",function(){e('.es-modal-wrapper[modal-type="auth-require-modal"]')&&e('.es-modal-wrapper[modal-type="auth-require-modal"]').remove(),e(".es-modal-wrapper").removeClass("display-modal")}),e(document).on("click","#es-open-signin-modal-from-auth",function(){e('.es-modal-wrapper[modal-type="auth-require-modal"]')&&e('.es-modal-wrapper[modal-type="auth-require-modal"]').remove(),e("#site-auth-modal").addClass("display-modal").attr("modal-type","signin-modal")}),e(document).on("click","#es-open-signup-modal-from-auth",function(){e('.es-modal-wrapper[modal-type="auth-require-modal"]')&&e('.es-modal-wrapper[modal-type="auth-require-modal"]').remove(),e("#site-auth-modal").addClass("display-modal").attr("modal-type","signup-modal")}),e(document).on("click","#es-open-forget-password-form",function(){e('.es-modal-wrapper[modal-type="auth-require-modal"]')&&e('.es-modal-wrapper[modal-type="auth-require-modal"]').remove(),e("#site-auth-modal").addClass("display-modal").attr("modal-type","forget-password-modal")}),e(".es-btn-switch-to-login").on("click",function(){e("#site-auth-modal").attr("modal-type","signin-modal")}),e(".es-btn-switch-to-signup").on("click",function(){e("#site-auth-modal").attr("modal-type","signup-modal")}),e(".password-field-toggle").on("click",function(s){s.preventDefault();let a=e(this).closest(".es-form-control").find("input");e(this).hasClass("password-displayed")?a.attr("type","password"):a.attr("type","text"),e(this).toggleClass("password-displayed")}),e(document).on("click",".es-modal-wrapper",function(s){s.target.classList.contains("es-modal-wrapper")&&(e('.es-modal-wrapper[modal-type="auth-require-modal"]')&&e('.es-modal-wrapper[modal-type="auth-require-modal"]').remove(),e(".es-modal-wrapper").removeClass("display-modal"))})},initCoursePurchase:function(){e("#course-purchase-btn").on("click",function(){const s=e(this),a=s.data("course-info"),o=s.data("is-free-course");if(!s.hasClass("loading")){if(s.addClass("loading"),!engisapce_obj.user_logged_in)return e(".es-modal-wrapper.es-auth-require-modal").addClass("display-modal").attr("modal-type","auth-require-modal"),void(s=>{e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:{action:"es_auth_required_modal",nonce:engisapce_obj.nonce},success:function(a){s.removeClass("loading"),e("body").append(a.data)}})})(s);o?((s,a)=>{console.log(a),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:{action:"es_free_course_purchase",nonce:engisapce_obj.nonce,course_id:a.id},success:function(e){e.success||s.removeClass("loading"),window.location.href=e.data}})})(s,a):((s,a)=>{e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:{action:"es_course_purchase_url",nonce:engisapce_obj.nonce,course_id:a.id},success:function(e){e.success||s.removeClass("loading"),window.location.href=e.data}})})(s,a)}})},initSocialShare:function(){e(".es-sc-share-btn").on("click",function(){e("#social-share-modal").addClass("display-modal")})},initStartSelling:function(){e("#es-start-selling").on("click",function(s){s.preventDefault(),e(this).hasClass("es-creator-user")?window.location.href=e(this).attr("href"):e("#upgrade-subscription-modal").addClass("display-modal")})},initSmoothScrolling:function(){e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(s){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=e(this.hash);(a=a.length?a:e("[name="+this.hash.slice(1)+"]")).length&&(s.preventDefault(),e("html, body").animate({scrollTop:a.offset().top},1e3,function(){var s=e(a);if(s.focus(),s.is(":focus"))return!1;s.attr("tabindex","-1"),s.focus()}))}})},initUpdateUserPassword:function(){e("#es-update-user-password").validate({rules:{old_password:"required",new_password:"required",confirm_password:"required",new_password:{required:!0,minlength:8},confirm_password:{required:!0,minlength:8,equalTo:"#new_password"}},messages:{old_password:{required:"Please enter your old password",minlength:"Your password must be at least 8 characters long"},new_password:{required:"Please enter a new password",minlength:"Your password must be at least 8 characters long"},password_confirm:{required:"Please enter a new password",minlength:"Your password must be at least 8 characters long"}},submitHandler:function(s){const a=e(s),o=a.find(".es-form-message"),t=a.serialize();o.html("").removeClass("form-error form-success"),a.find(".es-submit-btn button").addClass("btn-loading"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,success:function(s){console.log(s),a.find(".es-submit-btn button").removeClass("btn-loading"),s.success?(o.html("Password updated successfully").addClass("form-success").removeClass("form-error"),e("#es-update-user-password")[0].reset()):o.html("There's something wrong updating your password").addClass("form-error").removeClass("form-success")}})}})},initUpdateCourseMetadata:function(){e("#creator-update-course-metadata").validate({rules:{es_course_short_description:"required",es_course_difficulty_level:"required",es_course_duration:"required",es_course_original_price:"required"},messages:{es_course_short_description:{required:"You must enter a value"},es_course_difficulty_level:{required:"You must enter a value"},es_course_duration:{required:"You must enter a value"},es_course_original_price:{required:"You must enter a value"}},submitHandler:function(s){const a=e(s);a.find(".es-submit-btn button").addClass("btn-loading");const o=a.find(".es-form-message"),t=a.serialize();o.html("").removeClass("form-error form-success"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,success:function(e){a.find(".es-submit-btn button").removeClass("btn-loading"),e.success&&o.html("Successfully updated course metadata").addClass("form-success").removeClass("form-error")}})}})},initUserProfileModals:function(){e("#es-user-profile-details").on("click",function(){e("#user-proifle-details-modal").addClass("display-modal").attr("modal-type","es-user-profile-details")}),e("#es-user-contact-details").on("click",function(){e("#user-contact-details-modal").addClass("display-modal").attr("modal-type","es-user-contact-details")})},initUpdateUserProfileDetails:function(){e("#es-update-user-details-form").validate({rules:{es_person_first_name:"required",es_person_last_name:"required",es_person_description:"required"},messages:{es_person_first_name:{required:"You must enter a value"},es_person_last_name:{required:"You must enter a value"},es_person_description:{required:"You must enter a value"}},submitHandler:function(s){e("#es-update-user-details-form").on("submit",function(s){s.preventDefault();const a=e(this);a.find(".es-submit-btn button").addClass("btn-loading");const o=a.find(".es-form-message");var t=new FormData(this);o.html("").removeClass("form-error form-success"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,contentType:!1,processData:!1,success:function(e){a.find(".es-submit-btn button").removeClass("btn-loading"),e.success&&o.html("Successfully updated personal details").addClass("form-success").removeClass("form-error")}})})}})},initUpdateUserContactDetails:function(){e("#es-update-user-contact-details-form").validate({rules:{es_person_phone_number:"required",es_person_email:"required",es_person_url:"required"},messages:{es_person_phone_number:{required:"You must enter a value"},es_person_email:{required:"You must enter a value"},es_person_url:{required:"You must enter a value"}},submitHandler:function(s){const a=e(s);a.find(".es-submit-btn button").addClass("btn-loading");const o=a.find(".es-form-message");var t=a.serialize();o.html("").removeClass("form-error form-success"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,success:function(e){a.find(".es-submit-btn button").removeClass("btn-loading"),e.success&&o.html("Successfully updated personal details").addClass("form-success").removeClass("form-error")}})}})},initProfileMembershipUpgrade:function(){e(".es-membership-plan").on("click",function(){const s=e(this),a=s.attr("data-download-id"),o=s.attr("data-price-id");let t=engisapce_obj.siteurl+"/checkout?edd_action=add_to_cart&download_id="+a+"&edd_options[price_id]="+o;s.siblings().attr("data-current-plan",!1),s.attr("data-current-plan",!0),e(".es-upgrade-membership").removeAttr("data-button-disabled"),e(".es-upgrade-membership a").attr("href",t)}),e(document).on("click",'.es-upgrade-membership[data-button-disabled="true"] a',function(e){e.preventDefault()})},initCreatorStripeForm:function(){e("#creator-stripe-api-form").validate({rules:{es_creator_stripe_api_field:"required"},messages:{es_creator_stripe_api_field:{required:"You must enter a value"}},submitHandler:function(s){const a=e(s);a.find(".es-submit-btn button").addClass("btn-loading");const o=a.find(".es-form-message"),t=a.serialize();o.html("").removeClass("form-error form-success"),e.ajax({url:engisapce_obj.ajaxurl,method:"POST",data:t,success:function(e){console.log(e),a.find(".es-submit-btn button").removeClass("btn-loading"),e.success||o.html("There's something wrong updating the form").addClass("form-error"),e.success&&o.html("Successfully updated course metadata").addClass("form-success")}})}})},initCouseSidebarExpandableMenu:function(){e("#es-course-categories-menu > li").each(function(s,a){e(a).children("ul.children").length&&e(a).addClass("es-has-children").append('<span class="es-expand-menu" id="es-sidebar-expand-menu"><svg width="8px" height="13px" viewBox="0 0 8 13" version="1.1" style="transition: all 0.2s ease 0s; transform: initial;"><title></title><desc></desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="courses_view_all" transform="translate(-417.000000, -404.000000)" fill="#C2C7CA"><g id="related" transform="translate(133.000000, 144.000000)"><g id="icons/dropdown" transform="translate(277.000000, 256.000000)"><path d="M10.4285714,12.4285714 L10.4285714,7.28571429 C10.4285714,6.57563389 11.0042053,6 11.7142857,6 C12.4243661,6 13,6.57563389 13,7.28571429 L13,13.7142857 C13,14.4243661 12.4243661,15 11.7142857,15 L5.28571429,15 C4.57563389,15 4,14.4243661 4,13.7142857 C4,13.0042053 4.57563389,12.4285714 5.28571429,12.4285714 L10.4285714,12.4285714 Z" id="cross/white" transform="translate(8.500000, 10.500000) rotate(-45.000000) translate(-8.500000, -10.500000) "></path></g></g></g></g></svg></span>')}),e(document).on("click","#es-sidebar-expand-menu",function(){e(this).closest("li").toggleClass("menu-expanded").find("ul.children").slideToggle()})},miscEvents:function(){e(document).on("click",".es-faq-selected-page",function(){e(this).closest(".es-faq-pages-menu").toggleClass("active")}),e(document).on("click",".es-faq-question, .es-faq-group .down-arrow",function(){e(this).closest(".es-faq-group").toggleClass("active")})},init:function(){window.engispace.initHeaderFunctions(),window.engispace.initCourseSliders(),window.engispace.initCourseItemHover(),window.engispace.initSignIn(),window.engispace.initSignUp(),window.engispace.initForgetPassword(),window.engispace.initAuthModal(),window.engispace.initCoursePurchase(),window.engispace.initSocialShare(),window.engispace.initStartSelling(),window.engispace.initSmoothScrolling(),window.engispace.initUpdateUserPassword(),window.engispace.initUpdateCourseMetadata(),window.engispace.initUserProfileModals(),window.engispace.initUpdateUserProfileDetails(),window.engispace.initUpdateUserContactDetails(),window.engispace.initProfileMembershipUpgrade(),window.engispace.initCreatorStripeForm(),window.engispace.initCouseSidebarExpandableMenu(),window.engispace.miscEvents(),jQuery(window).on("resize",function(){s(),e(window).width()+15<1025||e(".es-header-mobile-navigation-wrapper").hide()})}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.engispace.init):window.engispace.init()}(jQuery);